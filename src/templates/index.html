<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Index â€” {{ folder }}</title>

  {% if ga_tracking_id %}
  <script async src="https://www.googletagmanager.com/gtag/js?id={{ ga_tracking_id }}"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '{{ ga_tracking_id }}');
  </script>
  {% endif %}

  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #ffffff;
      color: #000;
      padding: 2rem;
    }
    h1 {
      font-size: 1.6rem;
      margin-bottom: 1rem;
      border-bottom: 1px solid #ccc;
      padding-bottom: 0.4rem;
    }
    ul { padding-left: 1.2rem; }
    li { margin-bottom: 0.5rem; }
    a { color: #1a73e8; text-decoration: none; }
    a:hover { text-decoration: underline; }
    button {
      font-size: 1rem;
      padding: 0.5rem 1rem;
      margin-right: 0.5rem;
      background-color: #222;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    button:hover { background-color: #444; }
    @media (prefers-color-scheme: dark) {
      body { background: #0d1117; color: #c9d1d9; }
      a { color: #58a6ff; }
      button { background-color: #21262d; color: #c9d1d9; }
      button:hover { background-color: #30363d; }
    }
  </style>
</head>
<body>

  <div style="margin-bottom: 2em;">
    <a href="{{ site_base_path }}"><button>Home</button></a>
    <button onclick="handleBack()">Back</button>
  </div>

  <h1>Index of {{ folder }}</h1>
  <ul>
    {% for file in files %}
      <li><a href="{{ file }}">{{ file }}</a></li>
    {% endfor %}
  </ul>

  <hr />

  <div style="margin-top: 2em;">
    <a href="{{ site_base_path }}"><button>Home</button></a>
    <button onclick="handleBack()">Back</button>
  </div>

  <script>
    function handleBack() {
      if (history.length > 1) {
        history.back();
      } else {
        window.location.href = "{{ site_base_path }}";
      }
    }
  </script>

</body>
</html>
